# Last Test Run Report

**Generated**: 2025-11-24 21:16:51
**Command**: `python run_tests.py`
**Total Duration**: 18.88 seconds
**Status**: [FAILED]

## Summary Statistics

- **Test Suites Run**: 2
- **Test Suites Passed**: 1
- **Test Suites Failed**: 1
- **Individual Tests Passed**: 23
- **Individual Tests Failed**: 6
- **Performance Target (<10s)**: [MISSED]

## Test Suite Results

| Suite | Status | Duration | Tests |
|-------|--------|----------|-------|
| Core Integration Tests | [FAIL] | 9.14s | 15 |
| End-to-End Pattern Flow | [PASS] | 9.74s | 14 |

## Individual Test Results


### Core Integration Tests

- [FAIL] Redis Subscription FAILED: No subscribers on tickstock.events.patterns channel
- [FAIL] Event Structure FAILED: Failed to publish test event
- [PASS] Database access working: 0 error log entries in last 24 hours
- [PASS] Database write access confirmed via error_logs table
- [FAIL] Pattern Flow FAILED: Failed to publish test pattern
- [PASS] Redis heartbeat: 0.4ms latency
- [PASS] Database heartbeat: 0.1ms latency
- [PASS] Error logging active: 0 entries in last 24 hours
- [FAIL] Redis->DB Flow FAILED: Failed to publish to Redis channel
- [PASS] Pattern cache contains 0 entries
- [FAIL] WebSocket Config FAILED: No pattern event handlers registered
- [PASS] Redis performance: 0.5ms avg latency
- [PASS] Database performance: 2.4ms avg query latency
- [PASS] Error logging performance: 12.1ms write+delete latency
- [FAIL] Error Recovery FAILED: System not recovering from bad events

### End-to-End Pattern Flow

- [PASS] Published pattern with flow_id: 36a22d8d-6322-4c80-9258-d2b1a40e3d76
- [PASS] Published daily tier pattern: HeadShoulders for TSLA
- [PASS] Published hourly tier pattern: MomentumShift for AMD
- [PASS] Published intraday tier pattern: VolumeSurge for NVDA
- [PASS] Published weekly tier pattern: TrendReversal for SPY
- [PASS] Published monthly tier pattern: BreakoutPattern for QQQ
- [PASS] Published daily_intraday tier pattern: SupportBreakout for AAPL
- [PASS] Published indicators tier pattern: RSI_Oversold for MSFT
- [PASS] Sent 40 patterns in 0.4s
- [PASS] Database logging verified: 5/5 flows tested successfully
- [PASS] Redis cache status:
- [PASS] Pattern-related tables available: 12
- [PASS] Database analysis baseline: 6359 symbols available
- [PASS] PATTERN FLOW TESTS COMPLETE

## Expected Test Coverage

These integration tests validate:

1. **Redis Integration**
   - Active subscription to `tickstock.events.patterns`
   - Publisher count verification
   - Message delivery confirmation

2. **Event Processing**
   - Pattern event structure compatibility
   - Nested data structure handling
   - Field name flexibility (pattern/pattern_name)

3. **Database Integration**
   - Integration events logging
   - Flow UUID tracking
   - Processing time measurements
   - Checkpoint logging

4. **Pattern Flow**
   - Multi-tier patterns (Daily/Intraday/Combo)
   - NumPy data serialization
   - High-volume processing (40+ patterns/minute)
   - End-to-end latency tracking

5. **Monitoring**
   - 60-second heartbeat intervals
   - Subscription health checks
   - Performance metrics collection

## Performance Targets

| Metric | Target | Status |
|--------|--------|--------|
| Total Test Time | <10 seconds | [MISSED] |
| Pattern Processing | <100ms per event | Check logs |
| Database Logging | <50ms per checkpoint | Check logs |
| WebSocket Delivery | <100ms end-to-end | Check logs |

## Next Run

To run these tests again:

```bash
python run_tests.py
```

To monitor integration performance:

```bash
python scripts/monitor_integration_performance.py
```

---
*Report generated by TickStockAppV2 Integration Test Suite*
