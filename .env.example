# TickStockAppV2 Environment Configuration Example
# Copy this file to .env and update with your actual values
# NEVER commit the .env file to source control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
DATABASE_URI=postgresql://app_readwrite:YOUR_PASSWORD_HERE@localhost:5432/tickstock

# Database connection parameters (legacy support)
DB_USER=app_readwrite
DB_PASSWORD=YOUR_PASSWORD_HERE
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tickstock

# =============================================================================
# POLYGON.IO API CONFIGURATION
# =============================================================================
# Your Polygon.io API key for market data
POLYGON_API_KEY=YOUR_POLYGON_API_KEY_HERE

# Polygon WebSocket settings
POLYGON_WEBSOCKET_URL=wss://delayed.polygon.io/stocks
POLYGON_WEBSOCKET_RECONNECT_INTERVAL=5
POLYGON_WEBSOCKET_MAX_RECONNECT_ATTEMPTS=10

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis connection settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379/0

# Redis pub-sub channels (Sprint 32 Error Management)
REDIS_ERROR_CHANNEL=tickstock:errors
REDIS_PATTERN_CHANNEL=tickstock.events.patterns
REDIS_PROCESSING_CHANNEL=tickstock.processing.daily

# =============================================================================
# FLASK & WEBSOCKET CONFIGURATION
# =============================================================================
# Flask application settings
FLASK_SECRET_KEY=YOUR_SECRET_KEY_HERE_GENERATE_WITH_OPENSSL
FLASK_ENV=development
FLASK_DEBUG=false
FLASK_PORT=5001

# WebSocket settings
WEBSOCKET_CORS_ALLOWED_ORIGINS=http://localhost:5001
WEBSOCKET_PING_INTERVAL=25
WEBSOCKET_PING_TIMEOUT=10

# =============================================================================
# LOGGING CONFIGURATION (Sprint 32)
# =============================================================================
# File logging settings
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/tickstock.log
LOG_FILE_MAX_BYTES=10485760
LOG_FILE_BACKUP_COUNT=5

# Database logging settings
LOG_DB_ENABLED=true
LOG_DB_SEVERITY_THRESHOLD=error
# Severity levels: critical|error|warning|info|debug

# Console logging
LOG_LEVEL=INFO

# =============================================================================
# TICKSTOCKPL INTEGRATION (Sprint 36)
# =============================================================================
# TickStockPL API connection
TICKSTOCKPL_HOST=localhost
TICKSTOCKPL_PORT=8080
TICKSTOCKPL_API_KEY=tickstock-cache-sync-2025
TICKSTOCKPL_API_TIMEOUT=30
TICKSTOCKPL_API_RETRY_COUNT=3

# =============================================================================
# STREAMING INTEGRATION (Sprint 33 Phase 5)
# =============================================================================
# Real-time streaming configuration
STREAMING_ENABLED=true
STREAMING_BUFFER_ENABLED=true
STREAMING_BUFFER_INTERVAL=250
STREAMING_MAX_BUFFER_SIZE=100
STREAMING_PATTERN_MIN_CONFIDENCE=0.7
STREAMING_ALERT_NOTIFICATIONS=true
STREAMING_HEALTH_CHECK_INTERVAL=60
STREAMING_MAX_HISTORY_SIZE=1000

# =============================================================================
# PERFORMANCE & OPTIMIZATION
# =============================================================================
# Buffer and batch settings
EVENT_BUFFER_SIZE=1000
EVENT_BUFFER_TIMEOUT=0.1
BATCH_SIZE=500
BATCH_TIMEOUT=0.5

# Cache settings
CACHE_TTL=3600
PATTERN_CACHE_TTL=3600
API_CACHE_TTL=30

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Development mode settings
USE_SYNTHETIC_DATA=false
SYNTHETIC_TICKER_COUNT=100
SYNTHETIC_UPDATE_INTERVAL=0.1

# Testing configuration
TEST_MODE=false
TEST_DATABASE_URI=postgresql://test_user:test_password@localhost:5432/tickstock_test

# =============================================================================
# MONITORING & HEALTH
# =============================================================================
# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# Metrics collection
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# SECURITY
# =============================================================================
# Session security
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# CORS settings
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:5001

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/hour

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable specific features
FEATURE_PATTERN_DISCOVERY=true
FEATURE_BACKTESTING=true
FEATURE_ADMIN_PANEL=true
FEATURE_HISTORICAL_DATA=true

# =============================================================================
# NOTIFICATION SERVICES (Optional)
# =============================================================================
# Email configuration
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password

# SMS configuration (Twilio)
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# NOTES
# =============================================================================
# 1. Generate secure keys: openssl rand -hex 32
# 2. Update database password after installation
# 3. Obtain API keys from respective providers
# 4. Adjust performance settings based on system resources
# 5. Configure logging paths with appropriate permissions
# 6. Review security settings for production deployment